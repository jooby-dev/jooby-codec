# https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions

name: test

on:
    push:
        branches:
          - '*'
    pull_request:
        branches:
          - '*'

    # allow to run manually
    workflow_dispatch:

permissions:
    contents: read

# allow only one concurrent run
concurrency: "test"

jobs:
    test:
        runs-on: ubuntu-latest

        steps:
          - name: checkout
            uses: actions/checkout@v3

          - uses: actions/setup-node@v2
            with:
                node-version: '18.x'

          - name: install dependencies
            run: npm ci

          - name: run all tests
            run: npm test
